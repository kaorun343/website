<div v-component="{{question.type}}" v-with="question"></div>
<div class="progress">
  <div role="progressbar" aria-valuenow="{{index+1}}" aria-valuemin="0" aria-valuemax="{{question_count}}" style="width: {{(index+1)/question_count*100}}%" class="progress-bar">
    <span class="sr-only">{{index+1}} / {{question_count}} 問</span>
  </div>
</div>
<div role="group" class="btn-group btn-group-justified">
  <div role="group" class="btn-group">
    <button type="button" v-attr="disabled: index == 0" v-on="click: previousQuestion" class="btn btn-default">
      前の問題
    </button>
  </div>
  <div role="group" class="btn-group">
    <button type="button" v-attr="disabled: index+1 == question_count" v-on="click: nextQuestion" class="btn btn-default">
      次の問題
    </button>
  </div>
</div>
<hr>
<button v-on="click: save" class="btn btn-success btn-block">結果を確認</button>
<div id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" class="modal fade">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h4 id="myModalLabel" class="modal-title">{{$root.lesson.title}}の結果</h4>
      </div>
      <div class="modal-body">
        <div class="table-responsive">
          <table class="table table-striped">
            <thead>
              <tr>
                <th>No.</th>
                <th>問題文</th>
                <th>あなたの答え</th>
                <th>結果</th>
              </tr>
            </thead>
            <tbody>
              <tr v-repeat="questions">
                <td>{{$index+1}}</td>
                <td>{{sentence}}</td>
                <td>{{choices[model]}}</td>
                <td>{{model == answer | ja}}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div role="alert" v-show="!clear" class="alert alert-warning">がんばりましょう。</div>
        <div role="alert" v-show="clear" class="alert alert-success">おめでとうございます！</div>
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" v-show="!clear" class="btn btn-default">課題に戻る</button>
        <button type="button" v-on="click: $root.navigate('/list')" class="btn btn-primary">別の課題に取り組む</button>
      </div>
    </div>
  </div>
</div>
